\section{Optymalizacja parametrów regulatorów PID i DMC}
\label{projekt:zad5}


Dla zaproponowanej trajektorii zmian sygnału zadanego dobrano nastawy
regulatora PID w wyniku optymalizacji wskaźnika jakości regulacji E.
Optymalizacji dokonano za pomocą wbudowanej funkcji MATLABa fmincon.

\subsection{Optymalizacja PID}

\subsubsection{PID bez u1}
Kr1=2.438 Td1=0 Ti1=3.2542 Kr2=8.8647 Td2=0 Ti2=0.2623 Kr3=3.1042
Td3=1.0262 Ti3=16.8144
Wartość wskaźnika E=64.2991

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u1/u/proj_zadanie5PID_bez_u1_u.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu1-u-projzadanie5PIDbezu1u.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu1u}
\end{figure}
\fi

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u1/y/proj_zadanie5PID_bez_u1_y.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu1-y-projzadanie5PIDbezu1y.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu1y}
\end{figure}
\fi

\subsubsection{PID bez u2}
Kr1=2.2901 Td1=0.0187 Ti1=0.5102 
Kr2=0.0219 Td2=39.5656 Ti2=0.0006
Kr3=4.8545 Td3=0.4969 Ti3=17.6086 
Wartość wskaźnika E=51.5533

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u2/u/proj_zadanie5PID_bez_u2_u.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu2-u-projzadanie5PIDbezu2u.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu2u}
\end{figure}
\fi

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u2/y/proj_zadanie5PID_bez_u2_y.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu2-y-projzadanie5PIDbezu2y.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu2y}
\end{figure}
\fi

\subsubsection{PID bez u3}
Kr1=2.4231 Td1=0 Ti1=0.6438 
Kr2=1.3759 Td2=0 Ti2=1.173 
Kr3=6.4637 Td3=0.0984 Ti3=13.3023 
Wartość wskaźnika E=42.5008

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u3/u/proj_zadanie5PID_bez_u3_u.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu3-u-projzadanie5PIDbezu3u.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu3u}
\end{figure}
\fi

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u3/y/proj_zadanie5PID_bez_u3_y.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu3-y-projzadanie5PIDbezu3y.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu3y}
\end{figure}
\fi

\subsubsection{PID bez u4}
Kr1=2.5885 Td1=0 Ti1=0.5918 
Kr2=1.4396 Td2=0 Ti2=0.6631 
Kr3=13.4882 Td3=0.029 Ti3=4.4987 
Wartość wskaźnika E=43.3297

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u4/u/proj_zadanie5PID_bez_u4_u.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu4-u-projzadanie5PIDbezu4u.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu4u}
\end{figure}
\fi

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/PID/PID_bez_u4/y/proj_zadanie5PID_bez_u4_y.tex}
    \caption{projekt-Zadanie5-PID-PIDbezu4-y-projzadanie5PIDbezu4y.tex}
    \label{projekt:zad5:figure:projzadanie5PIDbezu4y}
\end{figure}
\fi


\subsection{Optymalizacja DMC}

W regulatorze DMC dobierano współczynniki u1, u2, u3, lambda1, lambda2, lambda3, lambda4, natomiast horyzonty
D, N, Nu przyjęto stałe.

D=350 N=200 Nu=10 
lambda1=0.9004 lambda2=-5.5093 lambda3=12.1642 lambda4=-0.0569 
psi1=-0.5147 psi2=-9.3173 psi3=3.2215 
Wartość wskaźnika E=77.9097


\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/DMC/u/proj_zadanie5DMC_u.tex}
    \caption{projekt-Zadanie5-DMC-u-projzadanie5DMCu.tex}
    \label{projekt:zad5:figure:projzadanie5DMCu}
\end{figure}
\fi

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../projekt/Wykresy/projekt/Zadanie5/DMC/y/proj_zadanie5DMC_y.tex}
    \caption{projekt-Zadanie5-DMC-y-projzadanie5DMCy.tex}
    \label{projekt:zad5:figure:projzadanie5DMCy}
\end{figure}
\fi

\subsection{Wnioski}
Biorąc pod uwagę ocenę regulacji jakościową oraz ilościową najlepiej prezentuje się
algorytm PID z dobranymi parametrami za pomocą optymalizacji funkcją fmincon,
pokazuje to że prostota regulatora PID w takiej sytuacji dała możliwość lepszego
dostrojenia oraz lepszych wyników.
\subsubsection{Porównanie najlepszego DMC i PID}

PID – PID bez u3
\newline
Kr1=2.4231 Td1=0 Ti1=0.6438 Kr2=1.3759 
\newline
Td2=0 Ti2=1.173 Kr3=6.4637
\newline
Td3=0.0984 Ti3=13.3023 
\newline
Wartość wskaźnika E=42.5008

DMC – D=350 N=200 Nu=10 
\newline
lambda1=0.9004 lambda2=-5.5093 lambda3=12.1642 lambda4=-0.0569 
\newline
psi1=-0.5147 psi2=-9.3173psi3=3.2215 
\newline
Wartość wskaźnika E=77.9097
\newline
Wskaźnik jakości jest prawie dwa razy większy w przypadku regulatora DMC


\newpage
