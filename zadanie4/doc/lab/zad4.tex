\subsection{Implementacja i dobór parametrów regulatora DMC 2x2}
\label{lab:zad4}



\ifdefined\CompileFigures
%\begin{figure}[H] 
%    \centering
%    \input{lab/figure/zad1Setpoint.tex}
%    \caption{Punkt pracy obiektu}
%    \label{lab:zad1:figure}
%\end{figure}
\fi

Na	sterowniku	zaimplementowano	uwzględniając	ograniczenia	regulator	DMC	
2x2	w	wersji	oszczędnej	obliczeniowo(analitycznej). Pozyskano	odpowiedzi	
skokowe	obiektu.	Dobierając	parametry	regulatora	uwzględniono:
Liczbę	wykorzystanych	rejestrów	pamięci,	czas	obliczeń	pojedynczej	iteracji	
algorytmu	oraz	jakość	regulacji
Implementacja	
Wykresy

\subsubsection{Implementacja}

\lstset{style=custommatlab}
\ifdefined\CompileListings
    \lstinputlisting[
        firstline=6, 
        lastline=41, 
        caption="Skrypt generujący parametry regulatora DMC"]
        {../lab/DMC/DMC_script.m}
    %\newpage
\fi

\lstset{style=custommatlab}
\ifdefined\CompileListings
    \lstinputlisting[
        firstline=6, 
        lastline=24, 
        caption="Skrypt wyliczający parametry regulatora DMC"]
        {../lab/DMC/DMC_init.m}
    \newpage
\fi

\lstset{style=custommatlab}
\ifdefined\CompileListings
    \lstinputlisting[
        firstline=6, 
        lastline=49, 
        caption="Skrypt eksportujący parametry regulatora DMC do pliku"]
        {../lab/DMC/exporter.m}
    \newpage
\fi

\lstset{style=custommatlab}
\ifdefined\CompileListings
    \lstinputlisting[
        firstline=1, 
        lastline=51, 
        caption="Wygenerowany program ST inicjujący regulatory DMC"]
        {../lab/DMC/DMC_data.st}
    \newpage
\fi

\lstset{style=customc}
\ifdefined\CompileListings
    \lstinputlisting[
        firstline=1, 
        lastline=39, 
        caption="Program ST implementujący algorytm DMC toru G1-T1"]
        {../lab/src/DMC_R_FixedScan.st}
    \newpage
\fi

\lstset{style=customc}
\ifdefined\CompileListings
    \lstinputlisting[
        firstline=42, 
        lastline=80, 
        caption="Program ST implementujący algorytm DMC toru G2-T3"]
        {../lab/src/DMC_R_FixedScan.st}
    \newpage
\fi

\subsubsection{Wyznaczenie wektorów s regulatorów DMC}


\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../lab/Wykres/WykresS1.tex}
    \caption{Wektor s regulatora DMC  G1}
    \label{lab:zad4:figure:wektorS1}
 \end{figure}
\fi

\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../lab/Wykres/WykresS2.tex}
    \caption{Wektor s regulatora DMC G2}
    \label{lab:zad4:figure:wektorS2}
 \end{figure}
\fi


\subsubsection{Dobór parametrów regulatora}

Dobrano postawowe nastawy regulatora DMC, regulator w obecnej postaci nie sprawdza się.

$$D = \num{75} \indent N = \num{75} \indent Nu = \num{75} \indent \lambda_{1} = \num{0.2} \indent \lambda_{2} = \num{0.2}$$
\ifdefined\CompileFigures
\begin{figure}[H] 
    \centering
    \input{../lab/Wykres/dmc_g1_g2_75_75_75_0_2.tex}
    \caption{Eksperyment z regulatorem DMC}
    \label{lab:zad4:figure:wektorS2}
 \end{figure}
\fi

\newpage
